{"ast":null,"code":"import { connect } from 'react-redux';\nimport { applyMiddleware } from 'redux';\nimport { deletePost, createPost, showForm, showUpdateForm, updatePost } from '../../actions';\nimport Button from '../../components/Buttons/Button';\nimport createSagaMiddleware from 'redux-saga';\nimport { put, takeEvery, all } from 'redux-saga/effects';\nimport sagaMiddleware from '../../index';\nimport action from '../../index'; // const mapStateToProps = (state, ownProps) => ({\n//     showElement: ownProps.showElement ? ownProps.showElement : false,\n//     action: ownProps.action,\n//     result: formState(state, ownProps.showElement),\n//     postId: ownProps.postId ? ownProps.postId : false\n// });\n\nfunction mapStateToProps(state, ownProps) {\n  console.log('Button');\n  console.log(state);\n  console.log(ownProps);\n  return {\n    showElement: ownProps.showElement ? ownProps.showElement : false,\n    action: ownProps.action,\n    formEnable: state.form,\n    result: getButtonText(state, ownProps),\n    postId: ownProps.postId ? ownProps.postId : false,\n    buttonText: ownProps.buttonText ? ownProps.buttonText : false\n  };\n}\n\nfunction getButtonText(state, ownProps) {\n  if (!ownProps.showElement) {\n    return ownProps.buttonText;\n  }\n\n  let formState = state.form.filter(v => v.showElement === ownProps.showElement).pop();\n\n  if (!formState) {\n    return ownProps.buttonText;\n  }\n\n  return formState.enabled ? \"Hide Form\" : \"Show Form\";\n}\n\nfunction* hide() {\n  yield put(showForm(false));\n}\n\nexport function* doubleAction() {\n  yield takeEvery('CREATE_POST', hide);\n}\n/** mapDispatchToProps\n * adds event to our prop. We can use it from Button component as well. */\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    onClick: function () {\n      let action = ownProps.action;\n\n      switch (action) {\n        case 'showForm':\n          return dispatch(showForm(ownProps.showElement));\n\n        case 'createPost':\n          return dispatch(createPost(ownProps.title, ownProps.text, ownProps.state));\n\n        case 'deletePost':\n          return dispatch(deletePost(ownProps.postId));\n\n        case 'updatePost':\n          return dispatch(updatePost(ownProps.title, ownProps.text));\n\n        case 'showUpdateForm':\n          return dispatch(showUpdateForm(ownProps.postId, ownProps.title, ownProps.text));\n      }\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Button);","map":{"version":3,"sources":["/var/www/reactapps/testing-app-refactoring/src/containers/Buttons/Button.js"],"names":["connect","applyMiddleware","deletePost","createPost","showForm","showUpdateForm","updatePost","Button","createSagaMiddleware","put","takeEvery","all","sagaMiddleware","action","mapStateToProps","state","ownProps","console","log","showElement","formEnable","form","result","getButtonText","postId","buttonText","formState","filter","v","pop","enabled","hide","doubleAction","mapDispatchToProps","dispatch","onClick","title","text"],"mappings":"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","sourcesContent":["import {connect,} from 'react-redux'\nimport { applyMiddleware } from 'redux'\nimport {deletePost, createPost, showForm, showUpdateForm, updatePost} from '../../actions'\nimport Button from '../../components/Buttons/Button'\nimport createSagaMiddleware from 'redux-saga'\nimport { put, takeEvery, all } from 'redux-saga/effects'\nimport  sagaMiddleware  from  '../../index'\nimport action from '../../index'\n\n\n// const mapStateToProps = (state, ownProps) => ({\n//     showElement: ownProps.showElement ? ownProps.showElement : false,\n//     action: ownProps.action,\n//     result: formState(state, ownProps.showElement),\n//     postId: ownProps.postId ? ownProps.postId : false\n// });\n\nfunction mapStateToProps(state, ownProps) {\n    console.log('Button');\n    console.log(state);\n    console.log(ownProps);\n    return {\n        showElement: ownProps.showElement ? ownProps.showElement : false,\n        action: ownProps.action,\n        formEnable: state.form,\n        result: getButtonText(state, ownProps),\n        postId: ownProps.postId ? ownProps.postId : false,\n        buttonText: ownProps.buttonText ? ownProps.buttonText : false,\n    }\n}\n\nfunction getButtonText(state, ownProps) {\n    if (!ownProps.showElement) {\n        return ownProps.buttonText\n    }\n    let formState = state.form.filter(v => v.showElement === ownProps.showElement).pop();\n    if (!formState) {\n        return ownProps.buttonText\n    }\n    return formState.enabled ? \"Hide Form\" : \"Show Form\"\n}\n\nfunction* hide() {\n    yield put(showForm(false))\n}\nexport function* doubleAction() {\n    yield takeEvery('CREATE_POST',hide)\n}\n\n/** mapDispatchToProps\n * adds event to our prop. We can use it from Button component as well. */\nfunction mapDispatchToProps(dispatch, ownProps) {\n    return {\n        onClick: function () {\n            let action = ownProps.action;\n            switch (action) {\n                case 'showForm':\n                    return dispatch(showForm(ownProps.showElement));\n                case 'createPost':\n                    return dispatch(createPost(ownProps.title,ownProps.text,ownProps.state));\n                case 'deletePost':\n                    return dispatch(deletePost(ownProps.postId));\n                case 'updatePost':\n                    return dispatch(updatePost(ownProps.title, ownProps.text));\n                case 'showUpdateForm':\n                    return dispatch(showUpdateForm(ownProps.postId, ownProps.title, ownProps.text));\n            }\n        }\n    }\n}\n\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Button)"]},"metadata":{},"sourceType":"module"}